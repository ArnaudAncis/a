<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>PVM Assignment</title>
    <%= default_externals %>
    <%= Html::Generation::Quiz.setup %>
    <style>
      #colours {
        margin-left: auto;
        margin-right: auto;
        width: 50%;
      }
      
      #colours td:first-child {
        color: #FFF;
        text-align: center;
      }

      #colours td {
        padding: 5px;
      }

      input {
        width: 100px;
      }

      input.correct {
        background: #AFA;
      }

      input.incorrect {
        background: #FAA
      }

      .solution {
        border: 1px solid black;
        padding: 10px;
        width: 25%;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <header>
      <div class="center-vertically">Preprocessor</div>
    </header>
    <div id="contents">

      <%= interpret_exercise <<-END
            #include <iostream>
            #include <string>
            
            #define FOO
  
            int main()
            {
              #ifndef FOO
              int x = 10;
              #else
              std::string x = "qux";
              #endif
              
              std::cout << x << std::endl;

              return 0;
            }
          END
      %>

      <%= interpret_exercise <<-END
            #include <iostream>
            
            #define INIT 100
  
            int main()
            {
              std::cout << INIT << std::endl;
            }
          END
      %>

      <%= interpret_exercise(<<-END, input:'80 100')
            #include <iostream>

            #define unless(x)              if (!(x))
            #define down_to(i, from, to)   for ( int i = from; i >= to; --i )

            int foo(int, int);

            int main()
            {
              int a, b;
              std::cin >> a >> b;

              std::cout << foo(a, b) << std::endl;
            }

            int foo(int a, int b)
            {
                down_to(i, a, 1)
                {
                    unless (a % i || b % i) return i;
                }
            }
          END
      %>

      <%= interpret_exercise(<<-END, input:'80 100')
            #include <iostream>

            #define unless(x)              if (!x)
            #define down_to(i, from, to)   for ( int i = from; i >= to; --i )

            int foo(int, int);

            int main()
            {
              int a, b;
              std::cin >> a >> b;

              std::cout << foo(a, b) << std::endl;
            }

            int foo(int a, int b)
            {
              down_to(i, a, 1)
              {
                unless (a % i || b % i) return i;
              }
            }
          END
      %>

      <%= interpret_exercise(<<-END)
            // In file App.cpp
            #ifndef FOO
            #define FOO

            #include __FILE__

            #include <iostream>

            #ifndef N
            #define N 1000
            #endif

            int main()
            {
                std::cout << N << std::endl;
                std::cin.get();
            }

            #else

            #define N 5

            #endif      
          END
      %>


    </div>
  </body>

  <script>
    Quiz.formatQuizzes();
  </script>
</html>
